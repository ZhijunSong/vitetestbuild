{"version":3,"sources":["../../../src/components/VList/VListItem.tsx"],"names":["VListItemAvatar","VListItemHeader","VListItemIcon","VListItemSubtitle","VListItemTitle","genOverlays","makeVariantProps","useVariant","makeBorderProps","useBorder","makeDensityProps","useDensity","makeDimensionProps","useDimension","makeElevationProps","useElevation","makeRoundedProps","useRounded","makeRouterProps","useLink","makeTagProps","makeThemeProps","provideTheme","useSelectLink","useList","Ripple","computed","onMounted","watch","genericComponent","useRender","useNestedItem","VListItem","name","directives","props","active","Boolean","activeColor","String","activeClass","appendAvatar","appendIcon","disabled","lines","nav","prependAvatar","prependIcon","subtitle","title","value","variant","setup","attrs","slots","link","id","href","select","isSelected","isIndeterminate","isGroupActivator","root","parent","list","isActive","isExactActive","roundedProps","rounded","variantProps","color","open","val","themeClasses","borderClasses","colorClasses","colorStyles","variantClasses","densityClasses","dimensionStyles","elevationClasses","roundedClasses","lineClasses","undefined","slotProps","Tag","isLink","tag","hasColor","hasTitle","hasSubtitle","hasHeader","hasAppend","append","hasPrepend","prepend","isClickable","updateHasPrepend","e","navigate","default"],"mappings":"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","sourcesContent":["// Styles\nimport './VListItem.sass'\n\n// Components\nimport { VListItemAvatar } from './VListItemAvatar'\nimport { VListItemHeader } from './VListItemHeader'\nimport { VListItemIcon } from './VListItemIcon'\nimport { VListItemSubtitle } from './VListItemSubtitle'\nimport { VListItemTitle } from './VListItemTitle'\n\n// Composables\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\nimport { makeBorderProps, useBorder } from '@/composables/border'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeRouterProps, useLink } from '@/composables/router'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useSelectLink } from '@/composables/selectLink'\nimport { useList } from './list'\n\n// Directives\nimport { Ripple } from '@/directives/ripple'\n\n// Utilities\nimport { computed, onMounted, watch } from 'vue'\nimport { genericComponent, useRender } from '@/util'\nimport { useNestedItem } from '@/composables/nested/nested'\n\n// Types\nimport type { MakeSlots } from '@/util'\nimport type { PropType } from 'vue'\n\ntype ListItemSlot = {\n  isActive: boolean\n  activate: (value: boolean) => void\n  isSelected: boolean\n  select: (value: boolean) => void\n}\n\nexport type ListItemTitleSlot = {\n  title?: string\n}\n\nexport type ListItemSubtitleSlot = {\n  subtitle?: string\n}\n\nexport const VListItem = genericComponent<new () => {\n  $slots: MakeSlots<{\n    prepend: [ListItemSlot]\n    append: [ListItemSlot]\n    default: [ListItemSlot]\n    title: [ListItemTitleSlot]\n    subtitle: [ListItemSubtitleSlot]\n  }>\n}>()({\n  name: 'VListItem',\n\n  directives: { Ripple },\n\n  props: {\n    active: Boolean,\n    activeColor: String,\n    activeClass: String,\n    appendAvatar: String,\n    appendIcon: String,\n    disabled: Boolean,\n    lines: String as PropType<'one' | 'two' | 'three'>,\n    nav: Boolean,\n    prependAvatar: String,\n    prependIcon: String,\n    subtitle: String,\n    title: String,\n    value: null,\n\n    ...makeBorderProps(),\n    ...makeDensityProps(),\n    ...makeDimensionProps(),\n    ...makeElevationProps(),\n    ...makeRoundedProps(),\n    ...makeRouterProps(),\n    ...makeTagProps(),\n    ...makeThemeProps(),\n    ...makeVariantProps({ variant: 'text' } as const),\n  },\n\n  setup (props, { attrs, slots }) {\n    const link = useLink(props, attrs)\n    const id = computed(() => props.value ?? link.href.value)\n    const { select, isSelected, isIndeterminate, isGroupActivator, root, parent } = useNestedItem(id, false)\n    const list = useList()\n    const isActive = computed(() => {\n      return props.active || link.isExactActive?.value || isSelected.value\n    })\n    const roundedProps = computed(() => props.rounded || props.nav)\n    const variantProps = computed(() => ({\n      color: isActive.value ? props.activeColor ?? props.color : props.color,\n      variant: props.variant,\n    }))\n\n    onMounted(() => {\n      if (link.isExactActive?.value && parent.value != null) {\n        root.open(parent.value, true)\n      }\n    })\n\n    watch(() => link.isExactActive?.value, val => {\n      if (val && parent.value != null) {\n        root.open(parent.value, true)\n      }\n    })\n\n    const { themeClasses } = provideTheme(props)\n    const { borderClasses } = useBorder(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(variantProps)\n    const { densityClasses } = useDensity(props)\n    const { dimensionStyles } = useDimension(props)\n    const { elevationClasses } = useElevation(props)\n    const { roundedClasses } = useRounded(roundedProps)\n    const lineClasses = computed(() => props.lines ? `v-list-item--${props.lines}-line` : undefined)\n\n    const slotProps = computed(() => ({\n      isActive: isActive.value,\n      select,\n      isSelected: isSelected.value,\n      isIndeterminate: isIndeterminate.value,\n    }))\n\n    useSelectLink(link, select)\n\n    useRender(() => {\n      const Tag = (link.isLink.value) ? 'a' : props.tag\n      const hasColor = !list || isSelected.value || isActive.value\n      const hasTitle = (slots.title || props.title)\n      const hasSubtitle = (slots.subtitle || props.subtitle)\n      const hasHeader = !!(hasTitle || hasSubtitle)\n      const hasAppend = !!(slots.append || props.appendAvatar || props.appendIcon)\n      const hasPrepend = !!(slots.prepend || props.prependAvatar || props.prependIcon)\n      const isClickable = !props.disabled && (link.isClickable.value || (props.value != null && !!list))\n\n      list?.updateHasPrepend(hasPrepend)\n\n      return (\n        <Tag\n          class={[\n            'v-list-item',\n            {\n              'v-list-item--active': isActive.value,\n              'v-list-item--disabled': props.disabled,\n              'v-list-item--link': isClickable,\n              'v-list-item--nav': props.nav,\n              'v-list-item--prepend': !hasPrepend && list?.hasPrepend.value,\n              [`${props.activeClass}`]: isActive.value,\n            },\n            themeClasses.value,\n            borderClasses.value,\n            hasColor ? colorClasses.value : undefined,\n            densityClasses.value,\n            elevationClasses.value,\n            lineClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n          ]}\n          style={[\n            hasColor ? colorStyles.value : undefined,\n            dimensionStyles.value,\n          ]}\n          href={ link.href.value }\n          tabindex={ isClickable ? 0 : undefined }\n          onClick={ isClickable && ((e: MouseEvent) => {\n            if (isGroupActivator) return\n\n            link.navigate?.(e)\n            select(!isSelected.value, e)\n          })}\n          v-ripple={ isClickable }\n        >\n          { genOverlays(isClickable || isActive.value, 'v-list-item') }\n\n          { hasPrepend && (\n            <>\n              { props.prependAvatar && (\n                <VListItemAvatar\n                  image={ props.prependAvatar }\n                  start\n                />\n              ) }\n\n              { props.prependIcon && (\n                <VListItemIcon\n                  icon={ props.prependIcon }\n                  start\n                />\n              ) }\n\n              { slots.prepend?.(slotProps.value) }\n            </>\n          ) }\n\n          { hasHeader && (\n            <VListItemHeader>\n              { hasTitle && (\n                <VListItemTitle>\n                  { slots.title\n                    ? slots.title({ title: props.title })\n                    : props.title\n                  }\n                </VListItemTitle>\n              ) }\n\n              { hasSubtitle && (\n                <VListItemSubtitle>\n                  { slots.subtitle\n                    ? slots.subtitle({ subtitle: props.subtitle })\n                    : props.subtitle\n                  }\n                </VListItemSubtitle>\n              ) }\n            </VListItemHeader>\n          ) }\n\n          { slots.default?.(slotProps.value) }\n\n          { hasAppend && (\n            <>\n              { slots.append?.(slotProps.value) }\n\n              { props.appendAvatar && (\n                <VListItemAvatar\n                  image={ props.appendAvatar }\n                  end\n                />\n              ) }\n\n              { props.appendIcon && (\n                <VListItemIcon\n                  icon={ props.appendIcon }\n                  end\n                />\n              ) }\n            </>\n          ) }\n        </Tag>\n      )\n    })\n  },\n})\n\nexport type VListItem = InstanceType<typeof VListItem>\n"],"file":"VListItem.mjs"}